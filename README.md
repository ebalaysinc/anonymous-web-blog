# Anonymous Web Blog
*Блог, где каждый может выразить свои мысли.*
## В чём суть
Пользователей на сервере банально нет, потому и какие-либо возможности определить автора блога отсутствуют. При регистрации пользователь лишь получает ключ, который служит аутентификатором того, что пользователь имеет право создавать посты в данном блоге.

Сервис не является социальной сетью ввиду того, что лишь хранит информацию о блогах, а её распространение лежит на пользователе. Без прямой ссылки на блог получить доступ к информации нельзя.
## Развёртывание через Docker
```
docker compose -f docker-compose-prod.yml up -d --build
```
**ВНИМАНИЕ!** Текущая реализация docker-compose-prod.yml не поддерживает https. Если вам требуется https, то отредактируйте файл nginx/nginx.conf для работы с HTTPS и добавьте свои сертификаты в volumes nginx контейнера в docker-compose-prod.yml.
<!-- TODO: https из коробки -->
### Docker для разработки
```
docker compose up -d --build
```
Docker compose для разработки сильно упрощён, а также пробрасывает порты базы данных наружу. **НЕ ИСПОЛЬЗОВАТЬ НА ПРОДАКШЕНЕ!**
## To-Do
Фактически, сервис останется как есть. Никаких нововведений не планируется, кроме исправления багов и улучшения процесса развёртывания. Но это не значит, что не будет форков сервиса. Если таковые появятся, и они будут достойными, их список будет указан в readme.
## API документация
### POST /api/register
Возвращает uuid и key, относящийся к нему.
### POST /api/create_post
Принимает Key в заголовке запроса и текст поста в теле запроса. Вернёт `{"status": "ok"}`, если ключ верен, иначе `{"error": "invalid key"}`
### GET /api/get_posts/<uuid>
Принимает uuid в заголовке. Возвращает список из постов, отсортированных по возрастанию timestamp, в таком формате:
```json
[
    {
        "content": "Текст",
        "timestamp": 1736000000.1234567 // Unix timestamp в виде float
    },
    {
        "content": "Текст 2",
        "timestamp": 1736000005.1234567
    },
]
```
Если uuid невалидный, то вернёт `{"error": "invalid uuid"}`